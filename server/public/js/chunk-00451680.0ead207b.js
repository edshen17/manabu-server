(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00451680"],{"25f0":function(t,a,e){"use strict";var r=e("6eeb"),s=e("825a"),i=e("d039"),c=e("ad6d"),n="toString",d=RegExp.prototype,o=d[n],l=i((function(){return"/a/b"!=o.call({source:"a",flags:"b"})})),u=o.name!=n;(l||u)&&r(RegExp.prototype,n,(function(){var t=s(this),a=String(t.source),e=t.flags,r=String(void 0===e&&t instanceof RegExp&&!("flags"in d)?c.call(t):e);return"/"+a+"/"+r}),{unsafe:!0})},"354a":function(t,a,e){"use strict";var r=e("d79d"),s=e.n(r),i=function(t,a,e,r,i){return a&&e||(a="SGD",e="SGD"),s.a.rates=i,r?s.a.convert(t,{from:a,to:e}):Math.round(s.a.convert(t,{from:a,to:e}))};a["a"]=i},"4d63":function(t,a,e){var r=e("83ab"),s=e("da84"),i=e("94ca"),c=e("7156"),n=e("9bf2").f,d=e("241c").f,o=e("44e7"),l=e("ad6d"),u=e("9f7f"),m=e("6eeb"),f=e("d039"),p=e("69f3").set,v=e("2626"),_=e("b622"),h=_("match"),g=s.RegExp,b=g.prototype,C=/a/g,y=/a/g,x=new g(C)!==C,N=u.UNSUPPORTED_Y,M=r&&i("RegExp",!x||N||f((function(){return y[h]=!1,g(C)!=C||g(y)==y||"/a/i"!=g(C,"i")})));if(M){var k=function(t,a){var e,r=this instanceof k,s=o(t),i=void 0===a;if(!r&&s&&t.constructor===k&&i)return t;x?s&&!i&&(t=t.source):t instanceof k&&(i&&(a=l.call(t)),t=t.source),N&&(e=!!a&&a.indexOf("y")>-1,e&&(a=a.replace(/y/g,"")));var n=c(x?new g(t,a):g(t,a),r?this:b,k);return N&&e&&p(n,{sticky:e}),n},w=function(t){t in k||n(k,t,{configurable:!0,get:function(){return g[t]},set:function(a){g[t]=a}})},D=d(g),I=0;while(D.length>I)w(D[I++]);b.constructor=k,k.prototype=b,m(s,"RegExp",k)}v("RegExp")},6158:function(t,a,e){t.exports=e.p+"img/no-profile.849c29fe.webp"},7156:function(t,a,e){var r=e("861d"),s=e("d2bb");t.exports=function(t,a,e){var i,c;return s&&"function"==typeof(i=a.constructor)&&i!==e&&r(c=i.prototype)&&c!==e.prototype&&s(t,c),t}},"7db0":function(t,a,e){"use strict";var r=e("23e7"),s=e("b727").find,i=e("44d2"),c=e("ae40"),n="find",d=!0,o=c(n);n in[]&&Array(1)[n]((function(){d=!1})),r({target:"Array",proto:!0,forced:d||!o},{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),i(n)},8632:function(t,a,e){"use strict";e("d8f9")},"92b7":function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.loading?e("div",[e("div",{staticClass:"d-flex justify-content-center my-4"},[e("b-spinner",{attrs:{label:"Loading..."}})],1)]):e("div",{staticClass:"Payment mt-5"},[e("b-container",{attrs:{fluid:""}},[e("b-row",[e("b-col",{attrs:{lg:"2"}}),e("b-col",{staticStyle:{"z-index":"100"},attrs:{lg:"5"}},[e("div",{staticClass:"card profile-card mb-3 shadow border-0"},[e("div",{staticClass:"card-body"},[e("h3",{staticClass:"mb-3"},[t._v("Payment Method")]),t._l(t.paymentMethods,(function(a){return e("div",{key:a.method},[e("div",{staticClass:"card profile-card mb-3 shadow border-0"},[e("div",{staticClass:"card-body price-card",class:{"active-card":a.method==t.selectedMethod},on:{click:function(e){return t.onMethodChange(a.method)}}},[e("h4",{staticClass:"text-muted font-weight-light"},[t._v(" "+t._s(a.method)+" ")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:"Credit / Debit Card"==a.method&&"Credit / Debit Card"==t.selectedMethod,expression:"method.method == 'Credit / Debit Card' && selectedMethod == 'Credit / Debit Card'"}]},[e("credit-card-form")],1)])}))],2)])]),e("b-col",{staticClass:"button-wrapper",attrs:{lg:"3"}},[e("div",{staticClass:"sticky-top"},[e("div",{staticClass:"card profile-card mb-3 shadow border-0"},[e("h5",{staticClass:"font-weight-light mt-3 mx-3"},[e("img",{staticClass:"mid-image mr-3 mb-3",attrs:{alt:"100x100",src:t.imageSourceEdit(t.validatedData.teacherUserData.profileImage)}}),e("div",{staticClass:"payment-card",staticStyle:{display:"block"}},[e("h4",[t._v(t._s(t.validatedData.teacherUserData.name))]),e("p",{staticClass:"text-capitalize light-bold"},[t._v(" "+t._s(t.validatedData.selectedPlan)+" plan ("+t._s(t.validatedData.selectedDuration)+" minutes)")]),e("h5",{staticClass:"mt-5"},[t._v("Subtotal: "+t._s(t.subTotal.toFixed(2))+" "+t._s(t.userData.settings.currency))]),e("h5",[t._v("Processing fee: "+t._s((t.subTotal*t.processingRate).toFixed(2))+" "+t._s(t.userData.settings.currency))]),e("h5",[t._v("Total: "+t._s((t.totalPrice*(1+t.processingRate)).toFixed(2))+" "+t._s(t.userData.settings.currency))])])]),e("b-button",{staticClass:"mx-3 my-3 manabu-blue",attrs:{variant:"dark",disabled:t.isDisabled},on:{click:t.proceedPayment}},[t._v("PAY NOW")])],1)])]),e("b-col",{attrs:{lg:"2"}})],1)],1)],1)},s=[],i=(e("7db0"),e("e8c2")),c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper",attrs:{id:"app"}},[e("div",{staticClass:"card-form"},[e("div",{staticClass:"card-list"},[e("div",{staticClass:"card-item",class:{"-active":t.isCardFlipped}},[e("div",{staticClass:"card-item__side -front"},[e("div",{ref:"focusElement",staticClass:"card-item__focus",class:{"-active":t.focusElementStyle},style:t.focusElementStyle}),e("div",{staticClass:"card-item__cover"},[e("img",{staticClass:"card-item__bg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+t.currentCardBackground+".jpeg"}})]),e("div",{staticClass:"card-item__wrapper"},[e("div",{staticClass:"card-item__top"},[e("img",{staticClass:"card-item__chip",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/chip.png"}}),e("div",{staticClass:"card-item__type"},[e("transition",{attrs:{name:"slide-fade-up"}},[t.getCardType?e("img",{key:t.getCardType,staticClass:"card-item__typeImg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+t.getCardType+".png",alt:""}}):t._e()])],1)]),e("label",{ref:"cardNumber",staticClass:"card-item__number",attrs:{for:"cardNumber"}},["amex"===t.getCardType?t._l(t.amexCardMask,(function(a,r){return e("span",{key:r},[e("transition",{attrs:{name:"slide-fade-up"}},[r>4&&r<14&&t.cardNumber.length>r&&""!==a.trim()?e("div",{staticClass:"card-item__numberItem"},[t._v(" * ")]):t.cardNumber.length>r?e("div",{key:r,staticClass:"card-item__numberItem",class:{"-active":""===a.trim()}},[t._v(" "+t._s(t.cardNumber[r])+" ")]):e("div",{key:r+1,staticClass:"card-item__numberItem",class:{"-active":""===a.trim()}},[t._v(" "+t._s(a)+" ")])])],1)})):t._l(t.otherCardMask,(function(a,r){return e("span",{key:r},[e("transition",{attrs:{name:"slide-fade-up"}},[r>4&&r<15&&t.cardNumber.length>r&&""!==a.trim()?e("div",{staticClass:"card-item__numberItem"},[t._v(" * ")]):t.cardNumber.length>r?e("div",{key:r,staticClass:"card-item__numberItem",class:{"-active":""===a.trim()}},[t._v(" "+t._s(t.cardNumber[r])+" ")]):e("div",{key:r+1,staticClass:"card-item__numberItem",class:{"-active":""===a.trim()}},[t._v(" "+t._s(a)+" ")])])],1)}))],2),e("div",{staticClass:"card-item__content"},[e("label",{ref:"cardName",staticClass:"card-item__info",attrs:{for:"cardName"}},[e("div",{staticClass:"card-item__holder"},[t._v("Card Holder")]),e("transition",{attrs:{name:"slide-fade-up"}},[t.cardName.length?e("div",{key:"1",staticClass:"card-item__name"},[e("transition-group",{attrs:{name:"slide-fade-right"}},t._l(t.cardName.replace(/\s\s+/g," "),(function(a,r){return r===r?e("span",{key:r+1,staticClass:"card-item__nameItem"},[t._v(t._s(a))]):t._e()})),0)],1):e("div",{key:"2",staticClass:"card-item__name"},[t._v("Full Name")])])],1),e("div",{ref:"cardDate",staticClass:"card-item__date"},[e("label",{staticClass:"card-item__dateTitle",attrs:{for:"cardMonth"}},[t._v("Expires")]),e("label",{staticClass:"card-item__dateItem",attrs:{for:"cardMonth"}},[e("transition",{attrs:{name:"slide-fade-up"}},[t.cardMonth?e("span",{key:t.cardMonth},[t._v(t._s(t.cardMonth))]):e("span",{key:"2"},[t._v("MM")])])],1),t._v(" / "),e("label",{staticClass:"card-item__dateItem",attrs:{for:"cardYear"}},[e("transition",{attrs:{name:"slide-fade-up"}},[t.cardYear?e("span",{key:t.cardYear},[t._v(t._s(String(t.cardYear).slice(2,4)))]):e("span",{key:"2"},[t._v("YY")])])],1)])])])]),e("div",{staticClass:"card-item__side -back"},[e("div",{staticClass:"card-item__cover"},[e("img",{staticClass:"card-item__bg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+t.currentCardBackground+".jpeg"}})]),e("div",{staticClass:"card-item__band"}),e("div",{staticClass:"card-item__cvv"},[e("div",{staticClass:"card-item__cvvTitle"},[t._v("CVV")]),e("div",{staticClass:"card-item__cvvBand"},t._l(t.cardCvv,(function(a,r){return e("span",{key:r},[t._v(" * ")])})),0),e("div",{staticClass:"card-item__type"},[t.getCardType?e("img",{staticClass:"card-item__typeImg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+t.getCardType+".png"}}):t._e()])])])])]),e("div",{staticClass:"card-form__inner"},[e("div",{staticClass:"card-input"},[e("label",{staticClass:"card-input__label text-left",attrs:{for:"cardNumber"}},[t._v("Card Number")]),e("input",{directives:[{name:"mask",rawName:"v-mask",value:t.generateCardNumberMask,expression:"generateCardNumberMask"},{name:"model",rawName:"v-model",value:t.cardNumber,expression:"cardNumber"}],staticClass:"card-input__input",attrs:{type:"text",id:"cardNumber","data-ref":"cardNumber",autocomplete:"off"},domProps:{value:t.cardNumber},on:{focus:t.focusInput,blur:t.blurInput,input:function(a){a.target.composing||(t.cardNumber=a.target.value)}}})]),e("div",{staticClass:"card-input"},[e("label",{staticClass:"card-input__label text-left",attrs:{for:"cardName"}},[t._v("Card Holders")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.cardName,expression:"cardName"}],staticClass:"card-input__input",attrs:{type:"text",id:"cardName","data-ref":"cardName",autocomplete:"off"},domProps:{value:t.cardName},on:{focus:t.focusInput,blur:t.blurInput,input:function(a){a.target.composing||(t.cardName=a.target.value)}}})]),e("div",{staticClass:"card-form__row"},[e("div",{staticClass:"card-form__col"},[e("div",{staticClass:"card-form__group"},[e("label",{staticClass:"card-input__label text-left",attrs:{for:"cardMonth"}},[t._v("Expiration Date")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.cardMonth,expression:"cardMonth"}],staticClass:"card-input__input -select",attrs:{id:"cardMonth","data-ref":"cardDate"},on:{focus:t.focusInput,blur:t.blurInput,change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.cardMonth=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Month")]),t._l(12,(function(a){return e("option",{key:a,attrs:{disabled:a<t.minCardMonth},domProps:{value:a<10?"0"+a:a}},[t._v(" "+t._s(a<10?"0"+a:a)+" ")])}))],2),e("select",{directives:[{name:"model",rawName:"v-model",value:t.cardYear,expression:"cardYear"}],staticClass:"card-input__input -select",attrs:{id:"cardYear","data-ref":"cardDate"},on:{focus:t.focusInput,blur:t.blurInput,change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.cardYear=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Year")]),t._l(12,(function(a,r){return e("option",{key:a,domProps:{value:r+t.minCardYear}},[t._v(" "+t._s(r+t.minCardYear)+" ")])}))],2)])]),e("div",{staticClass:"card-form__col -cvv"},[e("div",{staticClass:"card-input"},[e("label",{staticClass:"card-input__label text-left",attrs:{for:"cardCvv"}},[t._v("CVV")]),e("input",{directives:[{name:"mask",rawName:"v-mask",value:"####",expression:"'####'"},{name:"model",rawName:"v-model",value:t.cardCvv,expression:"cardCvv"}],staticClass:"card-input__input",attrs:{type:"text",id:"cardCvv",maxlength:"4",autocomplete:"off"},domProps:{value:t.cardCvv},on:{focus:function(a){return t.flipCard(!0)},blur:function(a){return t.flipCard(!1)},input:function(a){a.target.composing||(t.cardCvv=a.target.value)}}})])])]),e("button",{staticClass:"card-form__button"},[t._v("Submit")])])])])},n=[],d=(e("99af"),e("4d63"),e("ac1f"),e("25f0"),e("466d"),{name:"CreditCardForm",data:function(){return{currentCardBackground:Math.floor(25*Math.random()+1),cardName:"",cardNumber:"",cardMonth:"",cardYear:"",cardCvv:"",minCardYear:(new Date).getFullYear(),amexCardMask:"#### ###### #####",otherCardMask:"#### #### #### ####",cardNumberTemp:"",isCardFlipped:!1,focusElementStyle:null,isInputFocused:!1}},computed:{getCardType:function(){var t=this.cardNumber,a=new RegExp("^4");return null!=t.match(a)?"visa":(a=new RegExp("^(34|37)"),null!=t.match(a)?"amex":(a=new RegExp("^5[1-5]"),null!=t.match(a)?"mastercard":(a=new RegExp("^6011"),null!=t.match(a)?"discover":(a=new RegExp("^9792"),null!=t.match(a)?"troy":"visa"))))},generateCardNumberMask:function(){return"amex"===this.getCardType?this.amexCardMask:this.otherCardMask},minCardMonth:function(){return this.cardYear===this.minCardYear?(new Date).getMonth()+1:1}},watch:{cardYear:function(){this.cardMonth<this.minCardMonth&&(this.cardMonth="")}},methods:{flipCard:function(t){this.isCardFlipped=t},focusInput:function(t){this.isInputFocused=!0;var a=t.target.dataset.ref,e=this.$refs[a];this.focusElementStyle={width:"".concat(e.offsetWidth,"px"),height:"".concat(e.offsetHeight,"px"),transform:"translateX(".concat(e.offsetLeft,"px) translateY(").concat(e.offsetTop,"px)")}},blurInput:function(){var t=this;setTimeout((function(){t.isInputFocused||(t.focusElementStyle=null)}),300),t.isInputFocused=!1}},mounted:function(){this.cardNumberTemp=this.otherCardMask,document.getElementById("cardNumber").focus()}}),o=d,l=(e("8632"),e("2877")),u=Object(l["a"])(o,c,n,!1,null,"31e49e92",null),m=u.exports,f=e("f459"),p=e("354a"),v=e("07a4"),_=e("bc3a"),h=e.n(_),g={name:"Payment",components:{CreditCardForm:m},created:function(){this.$emit("update:layout",i["a"])},props:{transactionData:Object,myUserData:Object},computed:{storeUserData:{get:function(){return v["a"].getters.userData},set:function(t){return t}}},data:function(){return{loading:!0,isDisabled:!0,host:"/api",paymentMethods:[{method:"PayPal",processingRate:.03}],selectedMethod:null,validatedData:null,subTotal:0,totalPrice:0,userData:null}},methods:{onMethodChange:function(t){this.selectedMethod=t,this.isDisabled=!1,this.processingRate=this.paymentMethods.find((function(a){return a.method==t})).processingRate},imageSourceEdit:f["a"],proceedPayment:function(){var t=this.transactionData;if(!t)try{t=JSON.parse(localStorage.getItem("transactionData"))}catch(a){console.log("JSON Parse Error")}t.selectedMethod=this.selectedMethod,"PayPal"==this.selectedMethod&&h.a.post("/api/pay",t).then((function(t){if(200==t.status)return window.location.href=t.data.redirectLink,!1})).catch((function(t){console.log(t)}))}},mounted:function(){var t=this;try{var a=this.transactionData||JSON.parse(localStorage.getItem("transactionData")),e=this.myUserData||this.storeUserData;if(this.userData=e,a){var r=a.hostedBy,s=a.reservedBy,i=a.selectedPlan,c=a.selectedDuration,n=a.selectedSubscription,d=a.selectedPackageId,o=a.selectedLanguage;return h.a.get("".concat(this.host,"/utils/verifyTransactionData"),{params:{hostedBy:r,reservedBy:s,selectedPlan:i,selectedDuration:c,selectedSubscription:n,selectedPackageId:d,selectedLanguage:o,selectedMethod:null}},{headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(a){if(200==a.status){t.loading=!1,t.validatedData=a.data;var r=a.data,s=r.exchangeRate,i=r.transactionPrice;t.subTotal=Object(p["a"])(i,"SGD",e.settings.currency,!0,s),t.processingRate=0,t.totalPrice=t.subTotal*(t.processingRate+1)}}))}}catch(l){console.log(l)}}},b=g,C=(e("b781"),Object(l["a"])(b,r,s,!1,null,null,null));a["default"]=C.exports},b781:function(t,a,e){"use strict";e("f213")},d79d:function(t,a,e){
/*!
 * money.js / fx() v0.2
 * Copyright 2014 Open Exchange Rates
 *
 * JavaScript library for realtime currency conversion and exchange rate calculation.
 *
 * Freely distributable under the MIT license.
 * Portions of money.js are inspired by or borrowed from underscore.js
 *
 * For details, examples and documentation:
 * http://openexchangerates.github.io/money.js/
 */
(function(e,r){var s=function(t){return new d(t)};s.version="0.2";var i=e.fxSetup||{rates:{},base:""};s.rates=i.rates,s.base=i.base,s.settings={from:i.from||s.base,to:i.to||s.base};var c=s.convert=function(t,a){if("object"===typeof t&&t.length){for(var e=0;e<t.length;e++)t[e]=c(t[e],a);return t}return a=a||{},a.from||(a.from=s.settings.from),a.to||(a.to=s.settings.to),t*n(a.to,a.from)},n=function(t,a){var e=s.rates;if(e[s.base]=1,!e[t]||!e[a])throw"fx error";return a===s.base?e[t]:t===s.base?1/e[a]:e[t]*(1/e[a])},d=function(t){"string"===typeof t?(this._v=parseFloat(t.replace(/[^0-9-.]/g,"")),this._fx=t.replace(/([^A-Za-z])/g,"")):this._v=t},o=s.prototype=d.prototype;o.convert=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this._v),c.apply(s,t)},o.from=function(t){var a=s(c(this._v,{from:t,to:s.base}));return a._fx=s.base,a},o.to=function(t){return c(this._v,{from:this._fx?this._fx:s.settings.from,to:t})},t.exports&&(a=t.exports=s),a.fx=s})(this)},d8f9:function(t,a,e){},f213:function(t,a,e){},f459:function(t,a,e){"use strict";function r(t){return""==t?e("6158"):t}a["a"]=r}}]);
//# sourceMappingURL=chunk-00451680.0ead207b.js.map