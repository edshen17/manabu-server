(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f73684f"],{"354a":function(t,e,a){"use strict";var s=a("d79d"),r=a.n(s),n=function(t,e,a,s,n){return e&&a||(e="SGD",a="SGD"),r.a.rates=n,s?r.a.convert(t,{from:e,to:a}):Math.round(r.a.convert(t,{from:e,to:a}))};e["a"]=n},6158:function(t,e,a){t.exports=a.p+"img/no-profile.849c29fe.webp"},"65f0":function(t,e,a){var s=a("861d"),r=a("e8b5"),n=a("b622"),i=n("species");t.exports=function(t,e){var a;return r(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?s(a)&&(a=a[i],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},"7db0":function(t,e,a){"use strict";var s=a("23e7"),r=a("b727").find,n=a("44d2"),i=a("ae40"),o="find",c=!0,d=i(o);o in[]&&Array(1)[o]((function(){c=!1})),s({target:"Array",proto:!0,forced:c||!d},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(o)},"92b7":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loading?a("div",[a("div",{staticClass:"d-flex justify-content-center my-4"},[a("b-spinner",{attrs:{label:"Loading..."}})],1)]):a("div",{staticClass:"Payment mt-5"},[a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{lg:"2"}}),a("b-col",{staticStyle:{"z-index":"100"},attrs:{lg:"5"}},[a("div",{staticClass:"card profile-card mb-3 shadow border-0"},[a("div",{staticClass:"card-body"},[a("h3",{staticClass:"mb-3"},[t._v("Payment Method")]),t._l(t.paymentMethods,(function(e){return a("div",{key:e.method},[a("div",{staticClass:"card profile-card mb-3 shadow border-0"},[a("div",{staticClass:"card-body price-card",class:{"active-card":e.method==t.selectedMethod},on:{click:function(a){return t.onMethodChange(e.method)}}},[a("h4",{staticClass:"text-muted font-weight-light"},[t._v(" "+t._s(e.method)+" ")])])])])}))],2)])]),a("b-col",{staticClass:"button-wrapper",attrs:{lg:"3"}},[a("div",{staticClass:"sticky-top"},[a("div",{staticClass:"card profile-card mb-3 shadow border-0"},[a("h5",{staticClass:"font-weight-light mt-3 mx-3"},[a("img",{staticClass:"mid-image mr-3 mb-3",attrs:{alt:"100x100",src:t.imageSourceEdit(t.validatedData.teacherUserData.profileImage)}}),a("div",{staticClass:"payment-card",staticStyle:{display:"block"}},[a("h4",[t._v(t._s(t.validatedData.teacherUserData.name))]),a("p",{staticClass:"text-capitalize light-bold"},[t._v(" "+t._s(t.validatedData.selectedPlan)+" plan ("+t._s(t.validatedData.selectedDuration)+" minutes)")]),a("h5",{staticClass:"mt-5"},[t._v("Subtotal: "+t._s(t.subTotal.toFixed(2))+" "+t._s(t.userData.settings.currency))]),a("h5",[t._v("Processing fee: "+t._s((t.subTotal*t.processingRate).toFixed(2))+" "+t._s(t.userData.settings.currency))]),a("h5",[t._v("Total: "+t._s((t.totalPrice*(1+t.processingRate)).toFixed(2))+" "+t._s(t.userData.settings.currency))])])]),a("b-button",{staticClass:"mx-3 my-3 manabu-blue",attrs:{variant:"dark",disabled:t.isDisabled},on:{click:t.proceedPayment}},[t._v("PAY NOW")])],1)])]),a("b-col",{attrs:{lg:"2"}})],1)],1)],1)},r=[],n=(a("7db0"),a("e8c2")),i=a("f459"),o=a("354a"),c=a("07a4"),d=a("bc3a"),l=a.n(d),u={name:"Payment",created:function(){this.$emit("update:layout",n["a"])},props:{transactionData:Object,myUserData:Object},computed:{storeUserData:{get:function(){return c["a"].getters.userData},set:function(t){return t}}},data:function(){return{loading:!0,isDisabled:!0,host:"/api",paymentMethods:[{method:"PayPal",processingRate:.045}],selectedMethod:null,validatedData:null,subTotal:0,totalPrice:0,userData:null}},methods:{onMethodChange:function(t){this.selectedMethod=t,this.isDisabled=!1,this.processingRate=this.paymentMethods.find((function(e){return e.method==t})).processingRate},imageSourceEdit:i["a"],proceedPayment:function(){if("PayPal"==this.selectedMethod){var t=this.transactionData||JSON.parse(localStorage.getItem("transactionData"));t.selectedMethod=this.selectedMethod,l.a.post("/api/pay",t,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(t){if(200==t.status)return window.location.href=t.data.redirectLink,!1})).catch((function(t){}))}}},mounted:function(){var t=this;try{var e=this.transactionData||JSON.parse(localStorage.getItem("transactionData")),a=this.myUserData||this.storeUserData;if(this.userData=a,e){var s=e.hostedBy,r=e.reservedBy,n=e.selectedPlan,i=e.selectedDuration,c=e.selectedSubscription,d=e.selectedPackageId,u=e.selectedLanguage;return l.a.get("".concat(this.host,"/utils/verifyTransactionData"),{params:{hostedBy:s,reservedBy:r,selectedPlan:n,selectedDuration:i,selectedSubscription:c,selectedPackageId:d,selectedLanguage:u,selectedMethod:null}},{headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(e){if(200==e.status){t.loading=!1,t.validatedData=e.data,console.log(t.validatedData);var s=e.data,r=s.exchangeRate,n=s.transactionPrice;t.subTotal=Object(o["a"])(n,"SGD",a.settings.currency,!0,r),t.processingRate=0,t.totalPrice=t.subTotal*(t.processingRate+1)}}))}}catch(f){console.log(f)}}},f=u,h=(a("b781"),a("2877")),p=Object(h["a"])(f,s,r,!1,null,null,null);e["default"]=p.exports},ae40:function(t,e,a){var s=a("83ab"),r=a("d039"),n=a("5135"),i=Object.defineProperty,o={},c=function(t){throw t};t.exports=function(t,e){if(n(o,t))return o[t];e||(e={});var a=[][t],d=!!n(e,"ACCESSORS")&&e.ACCESSORS,l=n(e,0)?e[0]:c,u=n(e,1)?e[1]:void 0;return o[t]=!!a&&!r((function(){if(d&&!s)return!0;var t={length:-1};d?i(t,1,{enumerable:!0,get:c}):t[1]=1,a.call(t,l,u)}))}},b727:function(t,e,a){var s=a("0366"),r=a("44ad"),n=a("7b0b"),i=a("50c4"),o=a("65f0"),c=[].push,d=function(t){var e=1==t,a=2==t,d=3==t,l=4==t,u=6==t,f=7==t,h=5==t||u;return function(p,v,b,m){for(var g,y,D=n(p),_=r(D),x=s(v,b,3),C=i(_.length),w=0,P=m||o,S=e?P(p,C):a||f?P(p,0):void 0;C>w;w++)if((h||w in _)&&(g=_[w],y=x(g,w,D),t))if(e)S[w]=y;else if(y)switch(t){case 3:return!0;case 5:return g;case 6:return w;case 2:c.call(S,g)}else switch(t){case 4:return!1;case 7:c.call(S,g)}return u?-1:d||l?l:S}};t.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterOut:d(7)}},b781:function(t,e,a){"use strict";a("f213")},d79d:function(t,e,a){
/*!
 * money.js / fx() v0.2
 * Copyright 2014 Open Exchange Rates
 *
 * JavaScript library for realtime currency conversion and exchange rate calculation.
 *
 * Freely distributable under the MIT license.
 * Portions of money.js are inspired by or borrowed from underscore.js
 *
 * For details, examples and documentation:
 * http://openexchangerates.github.io/money.js/
 */
(function(a,s){var r=function(t){return new c(t)};r.version="0.2";var n=a.fxSetup||{rates:{},base:""};r.rates=n.rates,r.base=n.base,r.settings={from:n.from||r.base,to:n.to||r.base};var i=r.convert=function(t,e){if("object"===typeof t&&t.length){for(var a=0;a<t.length;a++)t[a]=i(t[a],e);return t}return e=e||{},e.from||(e.from=r.settings.from),e.to||(e.to=r.settings.to),t*o(e.to,e.from)},o=function(t,e){var a=r.rates;if(a[r.base]=1,!a[t]||!a[e])throw"fx error";return e===r.base?a[t]:t===r.base?1/a[e]:a[t]*(1/a[e])},c=function(t){"string"===typeof t?(this._v=parseFloat(t.replace(/[^0-9-.]/g,"")),this._fx=t.replace(/([^A-Za-z])/g,"")):this._v=t},d=r.prototype=c.prototype;d.convert=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this._v),i.apply(r,t)},d.from=function(t){var e=r(i(this._v,{from:t,to:r.base}));return e._fx=r.base,e},d.to=function(t){return i(this._v,{from:this._fx?this._fx:r.settings.from,to:t})},t.exports&&(e=t.exports=r),e.fx=r})(this)},e8b5:function(t,e,a){var s=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==s(t)}},f213:function(t,e,a){},f459:function(t,e,a){"use strict";function s(t){return""==t?a("6158"):t}e["a"]=s}}]);
//# sourceMappingURL=chunk-0f73684f.fbd19d29.js.map