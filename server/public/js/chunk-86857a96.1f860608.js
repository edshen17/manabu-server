(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-86857a96"],{"039a":function(t,e,s){"use strict";s("7174")},"578a":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Signup"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-9 col-md-7 col-lg-5 mx-auto"},[s("div",{staticClass:"card card-signin my-5 shadow border-0"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title text-center"},[t._v(t._s(t.$t("login.login")))]),s("form",{staticClass:"form-signin"},[s("div",{staticClass:"form-label-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],ref:"email",staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:t.$t("login.email")},domProps:{value:t.email},on:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.login(e):null},input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("label",{attrs:{for:"inputEmail"}})]),s("div",{staticClass:"form-label-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:t.$t("login.password"),autocomplete:"on"},domProps:{value:t.password},on:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.login(e):null},input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("label",{attrs:{for:"inputPassword"}})])]),s("div",{staticClass:"form-signin"},[s("button",{staticClass:"btn btn-lg btn-dark btn-block text-uppercase sign-up",on:{click:t.login}},[t._v(" "+t._s(t.$t("login.login"))+" ")]),t.errors.length?s("div",[s("ul",{staticClass:"list-group mt-4"},t._l(t.errors,(function(e,o){return s("li",{key:o,staticClass:"list-group-item list-group-item-danger"},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),s("hr",{staticClass:"my-4"}),s("button",{staticClass:"btn btn-lg btn-google btn-block text-uppercase",on:{click:function(e){return t.redirect(t.GOOGLE_AUTH_URL)}}},[s("i",{staticClass:"fab fa-google mr-2"}),t._v(" "+t._s(t.$t("login.googleLogin"))+" ")]),s("p",{staticClass:"mt-4 float-right"},[t._v(" "+t._s(t.$t("login.noAccount"))+" "),s("b-link",{attrs:{to:"/signup?state="+t.encodedQueryParams}},[t._v(" "+t._s(t.$t("login.signupHere"))+" ")])],1)])])])])])])])},a=[],i=(s("99af"),s("bc3a")),r=s.n(i),n=s("e8c2");r.a.defaults.withCredentials=!0;var l={name:"Login",created:function(){this.$emit("update:layout",n["a"])},components:{},computed:{encodedQueryParams:{get:function(){return this.$store.getters.encodedQueryParams}},decodedQueryParams:{get:function(){return this.$store.getters.decodedQueryParams}},isTeacherApp:{get:function(){return this.decodedQueryParams.isTeacherApp}},hostedBy:{get:function(){return this.decodedQueryParams.hostedBy}}},data:function(){return{clientId:"406805009852-i2g9ccjm8frj23098sp678qnrjn5bmdk.apps.googleusercontent.com",GOOGLE_AUTH_URL:"https://accounts.google.com/o/oauth2/v2/auth?access_type=offline&scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile%20https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&response_type=code&client_id=406805009852-i2g9ccjm8frj23098sp678qnrjn5bmdk.apps.googleusercontent.com&redirect_uri=https%3A%2F%2Fmanabu.sg%2Fapi%2Fauth%2Fgoogle",appId:"202539034881612",errors:[],email:"",password:"",host:"api",FB:{},model:{},scope:{}}},mounted:function(){this.$route.query.state||this.$store.commit("setEncodedQueryParams",{}),this.$refs.email.focus()},methods:{redirect:function(t){window.location.href="".concat(t,"&state=").concat(this.encodedQueryParams)},checkForm:function(){this.errors=[],this.email&&this.password||this.errors.push("Please fill out all required fields."),this.password&&!this.validEmail(this.email)&&this.errors.push("Valid email required.")},validEmail:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)},login:function(){var t=this;this.checkForm(),this.errors.length||r.a.post("api/login",{email:this.email,password:this.password,isTeacherApp:this.isTeacherApp}).then((function(e){200==e.status&&t.$router.push({path:"/dashboard",query:{hostedBy:t.$route.query.hostedBy}}).catch((function(t){}))})).catch((function(e){t.errors.push(e.response.data)}))}}},c=l,u=(s("039a"),s("2877")),d=Object(u["a"])(c,o,a,!1,null,null,null);e["default"]=d.exports},7174:function(t,e,s){}}]);
//# sourceMappingURL=chunk-86857a96.1f860608.js.map