{"version":3,"sources":["webpack:///./src/components/Login.vue?4ead","webpack:///./src/components/Login.vue?1fdf","webpack:///src/components/Login.vue","webpack:///./src/components/Login.vue?3819","webpack:///./src/components/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","value","expression","ref","attrs","domProps","on","$event","type","indexOf","keyCode","login","target","composing","email","password","errors","_l","error","i","key","_s","_e","redirect","GOOGLE_AUTH_URL","isTeacherApp","staticRenderFns","a","$emit","LayoutDefault","handleSdkInit","component"],"mappings":"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","file":"js/chunk-86857a96.8858b665.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Signup\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-9 col-md-7 col-lg-5 mx-auto\"},[_c('div',{staticClass:\"card card-signin my-5 shadow border-0\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title text-center\"},[_vm._v(\"Log in\")]),_c('form',{staticClass:\"form-signin\"},[_c('div',{staticClass:\"form-label-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],ref:\"email\",staticClass:\"form-control\",attrs:{\"type\":\"email\",\"id\":\"inputEmail\",\"placeholder\":\"Email address\"},domProps:{\"value\":(_vm.email)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.login($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}}),_c('label',{attrs:{\"for\":\"inputEmail\"}})]),_c('div',{staticClass:\"form-label-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"id\":\"inputPassword\",\"placeholder\":\"Password\",\"autocomplete\":\"on\"},domProps:{\"value\":(_vm.password)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.login($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_c('label',{attrs:{\"for\":\"inputPassword\"}})])]),_c('div',{staticClass:\"form-signin\"},[_c('button',{staticClass:\"btn btn-lg btn-dark btn-block text-uppercase sign-up\",on:{\"click\":_vm.login}},[_vm._v(\" Log in \")]),(_vm.errors.length)?_c('div',[_c('ul',{staticClass:\"list-group mt-4\"},_vm._l((_vm.errors),function(error,i){return _c('li',{key:i,staticClass:\"list-group-item list-group-item-danger\"},[_vm._v(\" \"+_vm._s(error)+\" \")])}),0)]):_vm._e(),_c('hr',{staticClass:\"my-4\"}),_c('button',{staticClass:\"btn btn-lg btn-google btn-block text-uppercase\",on:{\"click\":function($event){return _vm.redirect(_vm.GOOGLE_AUTH_URL)}}},[_c('i',{staticClass:\"fab fa-google mr-2\"}),_vm._v(\" Continue with Google \")]),_c('p',{staticClass:\"mt-4 float-right\"},[_vm._v(\" Don't have an account? \"),_c('b-link',{attrs:{\"to\":(\"/signup?teacherSignup=\" + _vm.isTeacherApp)}},[_vm._v(\"Sign up here\")])],1)])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"Signup\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-sm-9 col-md-7 col-lg-5 mx-auto\">\n          <div class=\"card card-signin my-5 shadow border-0\">\n            <div class=\"card-body\">\n              <h5 class=\"card-title text-center\">Log in</h5>\n              <form class=\"form-signin\">\n                <div class=\"form-label-group\">\n                  <input\n                    type=\"email\"\n                    id=\"inputEmail\"\n                    class=\"form-control\"\n                    ref=\"email\"\n                    placeholder=\"Email address\"\n                    v-model=\"email\"\n                    @keyup.13=\"login\"\n                  />\n                  <label for=\"inputEmail\"></label>\n                </div>\n\n                <div class=\"form-label-group\">\n                  <input\n                    type=\"password\"\n                    id=\"inputPassword\"\n                    class=\"form-control\"\n                    placeholder=\"Password\"\n                    autocomplete=\"on\"\n                    v-model=\"password\"\n                    @keyup.13=\"login\"\n                  />\n                  <label for=\"inputPassword\"></label>\n                </div>\n              </form>\n              <div class=\"form-signin\">\n                <button\n                  class=\"btn btn-lg btn-dark btn-block text-uppercase sign-up\"\n                  @click=\"login\"\n                >\n                  Log in\n                </button>\n                <div v-if=\"errors.length\">\n                  <ul class=\"list-group mt-4\">\n                    <li\n                      v-for=\"(error, i) in errors\"\n                      :key=\"i\"\n                      class=\"list-group-item list-group-item-danger\"\n                    >\n                      {{ error }}\n                    </li>\n                  </ul>\n                </div>\n                <hr class=\"my-4\" />\n                <button\n                  class=\"btn btn-lg btn-google btn-block text-uppercase\"\n                  @click='redirect(GOOGLE_AUTH_URL)'\n                >\n                  <i class=\"fab fa-google mr-2\"></i> Continue with Google\n                </button>\n                <!-- <v-facebook-login class=\"btn btn-lg btn-facebook btn-block text-uppercase\" :app-id=\"appId\" :login-options=\"{ scope: 'email' }\" @login=\"flogin\" v-model=\"model\" @sdk-init=\"handleSdkInit\"></v-facebook-login> -->\n                <p class=\"mt-4 float-right\">\n                  Don't have an account?\n                  <b-link :to=\"`/signup?teacherSignup=${isTeacherApp}`\"\n                    >Sign up here</b-link\n                  >\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport LayoutDefault from './layouts/LayoutDefault';\n// import VFacebookLogin from 'vue-facebook-login-component'\n\naxios.defaults.withCredentials = true;\n\nexport default {\n    name: 'Login',\n    created() {\n    this.$emit('update:layout', LayoutDefault);\n    },\n    components: {\n        // VFacebookLogin\n    },\n    data() {\n        return {\n            isTeacherApp: this.$route.query.teacherSignup == 'true',\n            clientId: process.env.VUE_APP_G_CLIENTID,\n            GOOGLE_AUTH_URL: process.env.VUE_APP_GOOGLE_AUTH_URL,\n            appId: process.env.VUE_APP_FACEBOOK_APPID,\n            errors: [],\n            email: '',\n            password: '',\n            host: 'api',\n            FB: {},\n            model: {},\n            scope: {}\n        }\n    },\n    mounted() {\n      this.$refs.email.focus();\n    },\n    methods: {\n      redirect(url){\n        window.location.href = `${url}&state=${this.isTeacherApp}`\n      },\n        checkForm() {\n            this.errors = [];\n             if (!this.email || !this.password) {\n                this.errors.push('Please fill out all required fields.');\n            }\n\n            if (this.password && !this.validEmail(this.email)) {\n                this.errors.push('Valid email required.');\n            }\n        },\n        validEmail: function (email) {\n            const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n            return re.test(email);\n        },\n        login() {\n            // check if form information is correct\n            this.checkForm()\n\n            if (!this.errors.length) { // everything is good\n                axios.post('api/login', {\n                    email: this.email,\n                    password: this.password,\n                    isTeacherApp: this.isTeacherApp,\n                }).then((res) =>{\n                    if (res.status == 200) {\n                        this.$router.push({ path: '/dashboard', query: { hostedBy: this.$route.query.hostedBy, }}).catch(err => { });\n                    }\n                }).catch((err) => { // username/password was wrong\n                    this.errors.push(err.response.data);\n                });\n            }\n        },\n    handleSdkInit({ FB, scope }) {\n        this.FB = FB\n        this.scope = scope\n      },\n\n      //  flogin(res){ // for facebook logins. finish this.fb once https enabled...\n      //       console.log(res)\n      //       this.FB.api('/me', function(response) {\n      //           console.log(JSON.stringify(response));\n      //       });\n      //   },\n    }\n}\n</script>\n\n<style lang=\"css\">\n@import \"../../src/assets/css/forms.css\";\n@import \"../../src/assets/css/styles.css\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=3837718b&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}