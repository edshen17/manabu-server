(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6485e015"],{"039a":function(t,e,i){"use strict";i("7174")},"578a":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Signup"},[i("div",{staticClass:"container"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-9 col-md-7 col-lg-5 mx-auto"},[i("div",{staticClass:"card card-signin my-5"},[i("div",{staticClass:"card-body"},[i("h5",{staticClass:"card-title text-center"},[t._v("Log in")]),i("form",{staticClass:"form-signin"},[i("div",{staticClass:"form-label-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],ref:"email",staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"Email address"},domProps:{value:t.email},on:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.login(e):null},input:function(e){e.target.composing||(t.email=e.target.value)}}}),i("label",{attrs:{for:"inputEmail"}})]),i("div",{staticClass:"form-label-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",autocomplete:"on"},domProps:{value:t.password},on:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.login(e):null},input:function(e){e.target.composing||(t.password=e.target.value)}}}),i("label",{attrs:{for:"inputPassword"}})])]),i("div",{staticClass:"form-signin"},[i("button",{staticClass:"btn btn-lg btn-dark btn-block text-uppercase sign-up",on:{click:t.login}},[t._v(" Log in ")]),t.errors.length?i("div",[i("ul",{staticClass:"list-group mt-4"},t._l(t.errors,(function(e,o){return i("li",{key:o,staticClass:"list-group-item list-group-item-danger"},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),i("hr",{staticClass:"my-4"}),i("button",{directives:[{name:"google-signin-button",rawName:"v-google-signin-button",value:t.clientId,expression:"clientId"}],staticClass:"btn btn-lg btn-google btn-block text-uppercase"},[i("i",{staticClass:"fab fa-google mr-2"}),t._v(" Continue with Google ")]),i("p",{staticClass:"mt-4 float-right"},[t._v(" Don't have an account? "),i("b-link",{attrs:{to:"/signup?teacherSignup="+t.isTeacherApp}},[t._v("Sign up here")])],1)])])])])])])])},s=[],n=i("bc3a"),a=i.n(n),r=i("e8c2"),l=i("b41b");a.a.defaults.withCredentials=!0;var c={directives:{GoogleSignInButton:l["a"]},name:"Login",created:function(){this.$emit("update:layout",r["a"])},components:{},data:function(){return{isTeacherApp:"true"==this.$route.query.teacherSignup,clientId:"406805009852-i2g9ccjm8frj23098sp678qnrjn5bmdk.apps.googleusercontent.com",appId:"202539034881612",errors:[],email:"",password:"",host:"api",FB:{},model:{},scope:{}}},mounted:function(){this.$refs.email.focus()},methods:{checkForm:function(){this.errors=[],this.email&&this.password||this.errors.push("Please fill out all required fields."),this.password&&!this.validEmail(this.email)&&this.errors.push("Valid email required.")},validEmail:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)},login:function(){var t=this;this.checkForm(),this.errors.length||a.a.post("api/login",{email:this.email,password:this.password,isTeacherApp:this.isTeacherApp}).then((function(e){200==e.status&&t.$router.go()})).catch((function(e){t.errors.push(e.response.data)}))},OnGoogleAuthSuccess:function(t){var e=this;a.a.post("api/glogin",{idToken:t,isTeacherApp:this.isTeacherApp}).then((function(t){200==t.status&&e.$router.go()})).catch((function(t){e.errors=[],e.errors.push("Something went wrong during Google Authentication! If you are using incognito mode, make sure you have enabled cookies.")}))},OnGoogleAuthFail:function(t){this.errors=[],this.errors.push("Something went wrong during Google Authentication! If you are using incognito mode, make sure you have enabled cookies.")},handleSdkInit:function(t){var e=t.FB,i=t.scope;this.FB=e,this.scope=i}}},u=c,d=(i("039a"),i("2877")),p=Object(d["a"])(u,o,s,!1,null,null,null);e["default"]=p.exports},7174:function(t,e,i){},b41b:function(t,e,i){"use strict";var o=i("2b0e");e["a"]=o["default"].directive("google-signin-button",{bind:function(t,e,i){l();let o=e.value,s=document.createElement("script");function n(){gapi.load("auth2",()=>{const e=gapi.auth2.init({client_id:o,cookiepolicy:"single_host_origin"});e.attachClickHandler(t,{},a,r)})}function a(t){i.context.OnGoogleAuthSuccess(t.getAuthResponse().id_token),t.disconnect()}function r(t){i.context.OnGoogleAuthFail(t)}function l(){if(!i.context.OnGoogleAuthSuccess)throw new Error("The method OnGoogleAuthSuccess must be defined on the component");if(!i.context.OnGoogleAuthFail)throw new Error("The method OnGoogleAuthFail must be defined on the component")}s.setAttribute("src","https://apis.google.com/js/api:client.js"),document.head.appendChild(s),s.onload=n}})}}]);
//# sourceMappingURL=chunk-6485e015.fe5bed30.js.map