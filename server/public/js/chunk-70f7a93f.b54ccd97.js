(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70f7a93f"],{"7db0":function(t,e,s){"use strict";var i=s("23e7"),o=s("b727").find,a=s("44d2"),n=s("ae40"),c="find",r=!0,d=n(c);c in[]&&Array(1)[c]((function(){r=!1})),i({target:"Array",proto:!0,forced:r||!d},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),a(c)},c967:function(t,e,s){},ef23:function(t,e,s){"use strict";s("c967")},f9ea:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings mt-4"},[s("b-alert",{staticClass:"mx-5",attrs:{show:t.dismissCountDown,dismissible:"",variant:"success"},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" Settings updated successfully! ")]),s("b-row",[s("b-col",{attrs:{md:"2"}}),s("b-col",{attrs:{md:"3"}},[t.userData?s("div",{staticClass:"card mb-3 shadow border-0"},[s("div",{staticClass:"card-body"},[s("ul",{staticClass:"list-group list-group-flush profile-list"},[s("li",{staticClass:"list-group-item"},[s("b-link",{on:{click:function(e){t.viewingCard="General"}}},[t._v("General")])],1),s("li",{staticClass:"list-group-item"},[s("b-link",{on:{click:function(e){t.viewingCard="Payment"}}},[t._v("Payment")])],1)])])]):t._e()]),s("b-col",{attrs:{md:"5"}},[t.userData?s("div",{staticClass:"card mb-3 shadow border-0"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"form-group"},[s("div",{directives:[{name:"show",rawName:"v-show",value:"General"==t.viewingCard,expression:"viewingCard == 'General'"}]},[s("div",{staticClass:"form-group"},[s("label",[s("b",[t._v("Currency")])]),s("b-form-select",{staticClass:"my-2",attrs:{options:t.options.currency,size:"md"},model:{value:t.selected.currency,callback:function(e){t.$set(t.selected,"currency",e)},expression:"selected.currency"}}),s("label",[s("b",[t._v("Preferred Communication Tool")])]),s("b-form-select",{attrs:{options:t.options.commMethod,size:"md"},on:{change:t.changeComms},model:{value:t.selected.commMethod.method,callback:function(e){t.$set(t.selected.commMethod,"method",e)},expression:"selected.commMethod.method"}}),s("b-form-input",{staticClass:"mt-2",attrs:{placeholder:t.selected.commMethod.method+" ID"},model:{value:t.selected.commMethod.id,callback:function(e){t.$set(t.selected.commMethod,"id",e)},expression:"selected.commMethod.id"}})],1)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:"Payment"==t.viewingCard,expression:"viewingCard == 'Payment'"}]},[t._v("Payment settings coming soon!")]),s("b-button",{staticClass:"float-right",attrs:{variant:"primary"},on:{click:t.updateSettings}},[t._v(" Save Changes ")])],1)]):t._e()]),s("b-col",{attrs:{md:"2"}})],1)],1)},o=[],a=(s("99af"),s("7db0"),s("bc3a")),n=s.n(a),c=s("e8c2"),r=s("07a4"),d={name:"Settings",computed:{storeUserData:{get:function(){return r["a"].getters.userData},set:function(t){return t}}},created:function(){this.$emit("update:layout",c["a"])},data:function(){return{dismissSecs:2,dismissCountDown:0,host:"api",userData:null,viewingCard:"General",options:{commMethod:["LINE","Skype","Discord"],currency:[{value:"SGD",text:"$ SGD"},{value:"USD",text:"$ USD"},{value:"JPY",text:"Â¥ JPY"}]},selected:{currency:"SGD",commMethod:{method:"",id:""}}}},methods:{changeComms:function(){var t=this,e=JSON.parse(JSON.stringify(this.userData.commMethods)).find((function(e){return e.method==t.selected.commMethod.method}));e||(e={method:this.selected.commMethod.method,id:""}),this.selected.commMethod=e},updateSettings:function(){var t=this;if(this.selected.commMethod.method&&this.selected.commMethod.id){var e={currency:this.selected.currency};n.a.put("".concat(this.host,"/user/").concat(this.userData._id,"/updateProfile"),{settings:e,commMethods:this.selected.commMethod}).then((function(e){200==e.status&&(t.showAlert(),r["a"].commit("setUserData",e.data))})).catch((function(t){console.log(t)}))}else alert("Please input a value in the communication tool ID field")},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs}},mounted:function(){this.userData=this.storeUserData,this.selected.currency=this.userData.settings.currency||"SGD",this.selected.commMethod=JSON.parse(JSON.stringify(this.userData.commMethods[0]))||{}}},l=d,m=(s("ef23"),s("2877")),u=Object(m["a"])(l,i,o,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-70f7a93f.b54ccd97.js.map