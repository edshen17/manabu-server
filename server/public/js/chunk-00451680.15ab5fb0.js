(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00451680"],{"25f0":function(t,e,a){"use strict";var r=a("6eeb"),s=a("825a"),i=a("d039"),c=a("ad6d"),n="toString",o=RegExp.prototype,d=o[n],l=i((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),u=d.name!=n;(l||u)&&r(RegExp.prototype,n,(function(){var t=s(this),e=String(t.source),a=t.flags,r=String(void 0===a&&t instanceof RegExp&&!("flags"in o)?c.call(t):a);return"/"+e+"/"+r}),{unsafe:!0})},"354a":function(t,e,a){"use strict";var r=a("d79d"),s=a.n(r),i=function(t,e,a,r,i){return e&&a||(e="SGD",a="SGD"),s.a.rates=i,r?s.a.convert(t,{from:e,to:a}):Math.round(s.a.convert(t,{from:e,to:a}))};e["a"]=i},"4d63":function(t,e,a){var r=a("83ab"),s=a("da84"),i=a("94ca"),c=a("7156"),n=a("9bf2").f,o=a("241c").f,d=a("44e7"),l=a("ad6d"),u=a("9f7f"),m=a("6eeb"),p=a("d039"),f=a("69f3").set,v=a("2626"),_=a("b622"),h=_("match"),g=s.RegExp,b=g.prototype,C=/a/g,y=/a/g,x=new g(C)!==C,M=u.UNSUPPORTED_Y,w=r&&i("RegExp",!x||M||p((function(){return y[h]=!1,g(C)!=C||g(y)==y||"/a/i"!=g(C,"i")})));if(w){var N=function(t,e){var a,r=this instanceof N,s=d(t),i=void 0===e;if(!r&&s&&t.constructor===N&&i)return t;x?s&&!i&&(t=t.source):t instanceof N&&(i&&(e=l.call(t)),t=t.source),M&&(a=!!e&&e.indexOf("y")>-1,a&&(e=e.replace(/y/g,"")));var n=c(x?new g(t,e):g(t,e),r?this:b,N);return M&&a&&f(n,{sticky:a}),n},k=function(t){t in N||n(N,t,{configurable:!0,get:function(){return g[t]},set:function(e){g[t]=e}})},D=o(g),I=0;while(D.length>I)k(D[I++]);b.constructor=N,N.prototype=b,m(s,"RegExp",N)}v("RegExp")},6158:function(t,e,a){t.exports=a.p+"img/no-profile.849c29fe.webp"},7156:function(t,e,a){var r=a("861d"),s=a("d2bb");t.exports=function(t,e,a){var i,c;return s&&"function"==typeof(i=e.constructor)&&i!==a&&r(c=i.prototype)&&c!==a.prototype&&s(t,c),t}},"7db0":function(t,e,a){"use strict";var r=a("23e7"),s=a("b727").find,i=a("44d2"),c=a("ae40"),n="find",o=!0,d=c(n);n in[]&&Array(1)[n]((function(){o=!1})),r({target:"Array",proto:!0,forced:o||!d},{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),i(n)},8632:function(t,e,a){"use strict";a("d8f9")},"92b7":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loading?a("div",[a("div",{staticClass:"d-flex justify-content-center my-4"},[a("b-spinner",{attrs:{label:"Loading..."}})],1)]):a("div",{staticClass:"Payment mt-5"},[a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{lg:"2"}}),a("b-col",{staticStyle:{"z-index":"100"},attrs:{lg:"5"}},[a("div",{staticClass:"card profile-card mb-3 shadow border-0"},[a("div",{staticClass:"card-body"},[a("h3",{staticClass:"mb-3"},[t._v("Payment Method")]),t._l(t.paymentMethods,(function(e){return a("div",{key:e.method},[a("div",{staticClass:"card profile-card mb-3 shadow border-0"},[a("div",{staticClass:"card-body price-card",class:{"active-card":e.method==t.selectedMethod},on:{click:function(a){return t.onMethodChange(e.method)}}},[a("h4",{staticClass:"text-muted font-weight-light"},[t._v(" "+t._s(e.method)+" ")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"Credit / Debit Card"==e.method&&"Credit / Debit Card"==t.selectedMethod,expression:"method.method == 'Credit / Debit Card' && selectedMethod == 'Credit / Debit Card'"}]},[a("credit-card-form")],1)])}))],2)])]),a("b-col",{staticClass:"button-wrapper",attrs:{lg:"3"}},[a("div",{staticClass:"sticky-top"},[a("div",{staticClass:"card profile-card mb-3 shadow border-0"},[a("h5",{staticClass:"font-weight-light mt-3 mx-3"},[a("img",{staticClass:"mid-image mr-3 mb-3",attrs:{alt:"100x100",src:t.imageSourceEdit(t.validatedData.teacherUserData.profileImage)}}),a("div",{staticClass:"payment-card",staticStyle:{display:"block"}},[a("h4",[t._v(t._s(t.validatedData.teacherUserData.name))]),a("p",{staticClass:"text-capitalize light-bold"},[t._v(" "+t._s(t.validatedData.selectedPlan)+" plan ("+t._s(t.validatedData.selectedDuration)+" minutes)")]),a("h5",{staticClass:"mt-5"},[t._v("Subtotal: "+t._s(t.subTotal.toFixed(2))+" "+t._s(t.userData.settings.currency))]),a("h5",[t._v("Processing fee: "+t._s((t.subTotal*t.processingRate).toFixed(2))+" "+t._s(t.userData.settings.currency))]),a("h5",[t._v("Total: "+t._s((t.totalPrice*(1+t.processingRate)).toFixed(2))+" "+t._s(t.userData.settings.currency))])])]),a("b-button",{staticClass:"mx-3 my-3 manabu-blue",attrs:{variant:"dark",disabled:t.isDisabled},on:{click:t.proceedPayment}},[t._v("PAY NOW")])],1)])]),a("b-col",{attrs:{lg:"2"}})],1)],1)],1)},s=[],i=(a("7db0"),a("e8c2")),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper",attrs:{id:"app"}},[a("div",{staticClass:"card-form"},[a("div",{staticClass:"card-list"},[a("div",{staticClass:"card-item",class:{"-active":t.isCardFlipped}},[a("div",{staticClass:"card-item__side -front"},[a("div",{ref:"focusElement",staticClass:"card-item__focus",class:{"-active":t.focusElementStyle},style:t.focusElementStyle}),a("div",{staticClass:"card-item__cover"},[a("img",{staticClass:"card-item__bg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+t.currentCardBackground+".jpeg"}})]),a("div",{staticClass:"card-item__wrapper"},[a("div",{staticClass:"card-item__top"},[a("img",{staticClass:"card-item__chip",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/chip.png"}}),a("div",{staticClass:"card-item__type"},[a("transition",{attrs:{name:"slide-fade-up"}},[t.getCardType?a("img",{key:t.getCardType,staticClass:"card-item__typeImg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+t.getCardType+".png",alt:""}}):t._e()])],1)]),a("label",{ref:"cardNumber",staticClass:"card-item__number",attrs:{for:"cardNumber"}},["amex"===t.getCardType?t._l(t.amexCardMask,(function(e,r){return a("span",{key:r},[a("transition",{attrs:{name:"slide-fade-up"}},[r>4&&r<14&&t.cardNumber.length>r&&""!==e.trim()?a("div",{staticClass:"card-item__numberItem"},[t._v(" * ")]):t.cardNumber.length>r?a("div",{key:r,staticClass:"card-item__numberItem",class:{"-active":""===e.trim()}},[t._v(" "+t._s(t.cardNumber[r])+" ")]):a("div",{key:r+1,staticClass:"card-item__numberItem",class:{"-active":""===e.trim()}},[t._v(" "+t._s(e)+" ")])])],1)})):t._l(t.otherCardMask,(function(e,r){return a("span",{key:r},[a("transition",{attrs:{name:"slide-fade-up"}},[r>4&&r<15&&t.cardNumber.length>r&&""!==e.trim()?a("div",{staticClass:"card-item__numberItem"},[t._v(" * ")]):t.cardNumber.length>r?a("div",{key:r,staticClass:"card-item__numberItem",class:{"-active":""===e.trim()}},[t._v(" "+t._s(t.cardNumber[r])+" ")]):a("div",{key:r+1,staticClass:"card-item__numberItem",class:{"-active":""===e.trim()}},[t._v(" "+t._s(e)+" ")])])],1)}))],2),a("div",{staticClass:"card-item__content"},[a("label",{ref:"cardName",staticClass:"card-item__info",attrs:{for:"cardName"}},[a("div",{staticClass:"card-item__holder"},[t._v("Card Holder")]),a("transition",{attrs:{name:"slide-fade-up"}},[t.cardName.length?a("div",{key:"1",staticClass:"card-item__name"},[a("transition-group",{attrs:{name:"slide-fade-right"}},t._l(t.cardName.replace(/\s\s+/g," "),(function(e,r){return r===r?a("span",{key:r+1,staticClass:"card-item__nameItem"},[t._v(t._s(e))]):t._e()})),0)],1):a("div",{key:"2",staticClass:"card-item__name"},[t._v("Full Name")])])],1),a("div",{ref:"cardDate",staticClass:"card-item__date"},[a("label",{staticClass:"card-item__dateTitle",attrs:{for:"cardMonth"}},[t._v("Expires")]),a("label",{staticClass:"card-item__dateItem",attrs:{for:"cardMonth"}},[a("transition",{attrs:{name:"slide-fade-up"}},[t.cardMonth?a("span",{key:t.cardMonth},[t._v(t._s(t.cardMonth))]):a("span",{key:"2"},[t._v("MM")])])],1),t._v(" / "),a("label",{staticClass:"card-item__dateItem",attrs:{for:"cardYear"}},[a("transition",{attrs:{name:"slide-fade-up"}},[t.cardYear?a("span",{key:t.cardYear},[t._v(t._s(String(t.cardYear).slice(2,4)))]):a("span",{key:"2"},[t._v("YY")])])],1)])])])]),a("div",{staticClass:"card-item__side -back"},[a("div",{staticClass:"card-item__cover"},[a("img",{staticClass:"card-item__bg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+t.currentCardBackground+".jpeg"}})]),a("div",{staticClass:"card-item__band"}),a("div",{staticClass:"card-item__cvv"},[a("div",{staticClass:"card-item__cvvTitle"},[t._v("CVV")]),a("div",{staticClass:"card-item__cvvBand"},t._l(t.cardCvv,(function(e,r){return a("span",{key:r},[t._v(" * ")])})),0),a("div",{staticClass:"card-item__type"},[t.getCardType?a("img",{staticClass:"card-item__typeImg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+t.getCardType+".png"}}):t._e()])])])])]),a("div",{staticClass:"card-form__inner"},[a("div",{staticClass:"card-input"},[a("label",{staticClass:"card-input__label text-left",attrs:{for:"cardNumber"}},[t._v("Card Number")]),a("input",{directives:[{name:"mask",rawName:"v-mask",value:t.generateCardNumberMask,expression:"generateCardNumberMask"},{name:"model",rawName:"v-model",value:t.cardNumber,expression:"cardNumber"}],staticClass:"card-input__input",attrs:{type:"text",id:"cardNumber","data-ref":"cardNumber",autocomplete:"off"},domProps:{value:t.cardNumber},on:{focus:t.focusInput,blur:t.blurInput,input:function(e){e.target.composing||(t.cardNumber=e.target.value)}}})]),a("div",{staticClass:"card-input"},[a("label",{staticClass:"card-input__label text-left",attrs:{for:"cardName"}},[t._v("Card Holders")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cardName,expression:"cardName"}],staticClass:"card-input__input",attrs:{type:"text",id:"cardName","data-ref":"cardName",autocomplete:"off"},domProps:{value:t.cardName},on:{focus:t.focusInput,blur:t.blurInput,input:function(e){e.target.composing||(t.cardName=e.target.value)}}})]),a("div",{staticClass:"card-form__row"},[a("div",{staticClass:"card-form__col"},[a("div",{staticClass:"card-form__group"},[a("label",{staticClass:"card-input__label text-left",attrs:{for:"cardMonth"}},[t._v("Expiration Date")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.cardMonth,expression:"cardMonth"}],staticClass:"card-input__input -select",attrs:{id:"cardMonth","data-ref":"cardDate"},on:{focus:t.focusInput,blur:t.blurInput,change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.cardMonth=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Month")]),t._l(12,(function(e){return a("option",{key:e,attrs:{disabled:e<t.minCardMonth},domProps:{value:e<10?"0"+e:e}},[t._v(" "+t._s(e<10?"0"+e:e)+" ")])}))],2),a("select",{directives:[{name:"model",rawName:"v-model",value:t.cardYear,expression:"cardYear"}],staticClass:"card-input__input -select",attrs:{id:"cardYear","data-ref":"cardDate"},on:{focus:t.focusInput,blur:t.blurInput,change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.cardYear=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Year")]),t._l(12,(function(e,r){return a("option",{key:e,domProps:{value:r+t.minCardYear}},[t._v(" "+t._s(r+t.minCardYear)+" ")])}))],2)])]),a("div",{staticClass:"card-form__col -cvv"},[a("div",{staticClass:"card-input"},[a("label",{staticClass:"card-input__label text-left",attrs:{for:"cardCvv"}},[t._v("CVV")]),a("input",{directives:[{name:"mask",rawName:"v-mask",value:"####",expression:"'####'"},{name:"model",rawName:"v-model",value:t.cardCvv,expression:"cardCvv"}],staticClass:"card-input__input",attrs:{type:"text",id:"cardCvv",maxlength:"4",autocomplete:"off"},domProps:{value:t.cardCvv},on:{focus:function(e){return t.flipCard(!0)},blur:function(e){return t.flipCard(!1)},input:function(e){e.target.composing||(t.cardCvv=e.target.value)}}})])])]),a("button",{staticClass:"card-form__button"},[t._v("Submit")])])])])},n=[],o=(a("99af"),a("4d63"),a("ac1f"),a("25f0"),a("466d"),{name:"CreditCardForm",data:function(){return{currentCardBackground:Math.floor(25*Math.random()+1),cardName:"",cardNumber:"",cardMonth:"",cardYear:"",cardCvv:"",minCardYear:(new Date).getFullYear(),amexCardMask:"#### ###### #####",otherCardMask:"#### #### #### ####",cardNumberTemp:"",isCardFlipped:!1,focusElementStyle:null,isInputFocused:!1}},computed:{getCardType:function(){var t=this.cardNumber,e=new RegExp("^4");return null!=t.match(e)?"visa":(e=new RegExp("^(34|37)"),null!=t.match(e)?"amex":(e=new RegExp("^5[1-5]"),null!=t.match(e)?"mastercard":(e=new RegExp("^6011"),null!=t.match(e)?"discover":(e=new RegExp("^9792"),null!=t.match(e)?"troy":"visa"))))},generateCardNumberMask:function(){return"amex"===this.getCardType?this.amexCardMask:this.otherCardMask},minCardMonth:function(){return this.cardYear===this.minCardYear?(new Date).getMonth()+1:1}},watch:{cardYear:function(){this.cardMonth<this.minCardMonth&&(this.cardMonth="")}},methods:{flipCard:function(t){this.isCardFlipped=t},focusInput:function(t){this.isInputFocused=!0;var e=t.target.dataset.ref,a=this.$refs[e];this.focusElementStyle={width:"".concat(a.offsetWidth,"px"),height:"".concat(a.offsetHeight,"px"),transform:"translateX(".concat(a.offsetLeft,"px) translateY(").concat(a.offsetTop,"px)")}},blurInput:function(){var t=this;setTimeout((function(){t.isInputFocused||(t.focusElementStyle=null)}),300),t.isInputFocused=!1}},mounted:function(){this.cardNumberTemp=this.otherCardMask,document.getElementById("cardNumber").focus()}}),d=o,l=(a("8632"),a("2877")),u=Object(l["a"])(d,c,n,!1,null,"31e49e92",null),m=u.exports,p=a("f459"),f=a("354a"),v=a("07a4"),_=a("bc3a"),h=a.n(_),g={name:"Payment",components:{CreditCardForm:m},created:function(){this.$emit("update:layout",i["a"])},props:{transactionData:Object,myUserData:Object},computed:{storeUserData:{get:function(){return v["a"].getters.userData},set:function(t){return t}}},data:function(){return{credentials:{sandbox:"AQKZmmPPySFHp67YIYXsmAGeaqYfVY1Om6s1go4B5q3vdO2UVBSmTH3bFrazxuMh4oFREY14-zWcbjgJ",production:"AWWX8u0OQZypI5g-ndI6RPMAdrYMJ0-JjeMOKEsS92cxnO3D80D-O_mJzwuVvz6FqwH8_YQM1PltYFEB"},paypalButtonStyle:{label:"checkout",size:"responsive",shape:"rect",color:"silver",tagline:!1},loading:!0,isDisabled:!0,host:"/api",paymentMethods:[{method:"PayPal",processingRate:.03}],selectedMethod:null,validatedData:null,subTotal:0,totalPrice:0,userData:null}},methods:{onMethodChange:function(t){this.selectedMethod=t,this.isDisabled=!1,this.processingRate=this.paymentMethods.find((function(e){return e.method==t})).processingRate},imageSourceEdit:p["a"],proceedPayment:function(){var t=this.transactionData;if(!t)try{t=JSON.parse(localStorage.getItem("transactionData"))}catch(e){console.log("JSON Parse Error")}t.selectedMethod=this.selectedMethod,"PayPal"==this.selectedMethod&&h.a.post("/api/pay",t).then((function(t){if(200==t.status)return window.location.href=t.data.redirectLink,!1})).catch((function(t){console.log(t)}))}},mounted:function(){var t=this;try{var e=this.transactionData||JSON.parse(localStorage.getItem("transactionData")),a=this.myUserData||this.storeUserData;if(this.userData=a,e){var r=e.hostedBy,s=e.reservedBy,i=e.selectedPlan,c=e.selectedDuration,n=e.selectedSubscription,o=e.selectedPackageId,d=e.selectedLanguage;return h.a.get("".concat(this.host,"/utils/verifyTransactionData"),{params:{hostedBy:r,reservedBy:s,selectedPlan:i,selectedDuration:c,selectedSubscription:n,selectedPackageId:o,selectedLanguage:d,selectedMethod:null}},{headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(e){if(200==e.status){t.loading=!1,t.validatedData=e.data;var r=e.data,s=r.exchangeRate,i=r.transactionPrice;t.subTotal=Object(f["a"])(i,"SGD",a.settings.currency,!0,s),t.processingRate=0,t.totalPrice=t.subTotal*(t.processingRate+1)}}))}}catch(l){console.log(l)}}},b=g,C=(a("b781"),Object(l["a"])(b,r,s,!1,null,null,null));e["default"]=C.exports},b781:function(t,e,a){"use strict";a("f213")},d79d:function(t,e,a){
/*!
 * money.js / fx() v0.2
 * Copyright 2014 Open Exchange Rates
 *
 * JavaScript library for realtime currency conversion and exchange rate calculation.
 *
 * Freely distributable under the MIT license.
 * Portions of money.js are inspired by or borrowed from underscore.js
 *
 * For details, examples and documentation:
 * http://openexchangerates.github.io/money.js/
 */
(function(a,r){var s=function(t){return new o(t)};s.version="0.2";var i=a.fxSetup||{rates:{},base:""};s.rates=i.rates,s.base=i.base,s.settings={from:i.from||s.base,to:i.to||s.base};var c=s.convert=function(t,e){if("object"===typeof t&&t.length){for(var a=0;a<t.length;a++)t[a]=c(t[a],e);return t}return e=e||{},e.from||(e.from=s.settings.from),e.to||(e.to=s.settings.to),t*n(e.to,e.from)},n=function(t,e){var a=s.rates;if(a[s.base]=1,!a[t]||!a[e])throw"fx error";return e===s.base?a[t]:t===s.base?1/a[e]:a[t]*(1/a[e])},o=function(t){"string"===typeof t?(this._v=parseFloat(t.replace(/[^0-9-.]/g,"")),this._fx=t.replace(/([^A-Za-z])/g,"")):this._v=t},d=s.prototype=o.prototype;d.convert=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this._v),c.apply(s,t)},d.from=function(t){var e=s(c(this._v,{from:t,to:s.base}));return e._fx=s.base,e},d.to=function(t){return c(this._v,{from:this._fx?this._fx:s.settings.from,to:t})},t.exports&&(e=t.exports=s),e.fx=s})(this)},d8f9:function(t,e,a){},f213:function(t,e,a){},f459:function(t,e,a){"use strict";function r(t){return""==t?a("6158"):t}e["a"]=r}}]);
//# sourceMappingURL=chunk-00451680.15ab5fb0.js.map