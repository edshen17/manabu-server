{"version":3,"sources":["webpack:///./src/components/Login.vue?4ead","webpack:///./src/components/Login.vue?5580","webpack:///src/components/Login.vue","webpack:///./src/components/Login.vue?3819","webpack:///./src/components/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","directives","name","rawName","value","expression","ref","attrs","domProps","on","$event","type","indexOf","keyCode","login","target","composing","email","password","errors","_l","error","i","key","_e","redirect","GOOGLE_AUTH_URL","encodedQueryParams","staticRenderFns","a","$emit","LayoutDefault","component"],"mappings":"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","file":"js/chunk-86857a96.1f860608.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Signup\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-9 col-md-7 col-lg-5 mx-auto\"},[_c('div',{staticClass:\"card card-signin my-5 shadow border-0\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title text-center\"},[_vm._v(_vm._s(_vm.$t('login.login')))]),_c('form',{staticClass:\"form-signin\"},[_c('div',{staticClass:\"form-label-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],ref:\"email\",staticClass:\"form-control\",attrs:{\"type\":\"email\",\"id\":\"inputEmail\",\"placeholder\":_vm.$t('login.email')},domProps:{\"value\":(_vm.email)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.login($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}}),_c('label',{attrs:{\"for\":\"inputEmail\"}})]),_c('div',{staticClass:\"form-label-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"id\":\"inputPassword\",\"placeholder\":_vm.$t('login.password'),\"autocomplete\":\"on\"},domProps:{\"value\":(_vm.password)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.login($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_c('label',{attrs:{\"for\":\"inputPassword\"}})])]),_c('div',{staticClass:\"form-signin\"},[_c('button',{staticClass:\"btn btn-lg btn-dark btn-block text-uppercase sign-up\",on:{\"click\":_vm.login}},[_vm._v(\" \"+_vm._s(_vm.$t('login.login'))+\" \")]),(_vm.errors.length)?_c('div',[_c('ul',{staticClass:\"list-group mt-4\"},_vm._l((_vm.errors),function(error,i){return _c('li',{key:i,staticClass:\"list-group-item list-group-item-danger\"},[_vm._v(\" \"+_vm._s(error)+\" \")])}),0)]):_vm._e(),_c('hr',{staticClass:\"my-4\"}),_c('button',{staticClass:\"btn btn-lg btn-google btn-block text-uppercase\",on:{\"click\":function($event){return _vm.redirect(_vm.GOOGLE_AUTH_URL)}}},[_c('i',{staticClass:\"fab fa-google mr-2\"}),_vm._v(\" \"+_vm._s(_vm.$t('login.googleLogin'))+\" \")]),_c('p',{staticClass:\"mt-4 float-right\"},[_vm._v(\" \"+_vm._s(_vm.$t('login.noAccount'))+\" \"),_c('b-link',{attrs:{\"to\":(\"/signup?state=\" + _vm.encodedQueryParams)}},[_vm._v(\" \"+_vm._s(_vm.$t('login.signupHere'))+\" \")])],1)])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"Signup\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-sm-9 col-md-7 col-lg-5 mx-auto\">\n          <div class=\"card card-signin my-5 shadow border-0\">\n            <div class=\"card-body\">\n              <h5 class=\"card-title text-center\">{{ $t('login.login') }}</h5>\n              <form class=\"form-signin\">\n                <div class=\"form-label-group\">\n                  <input\n                    type=\"email\"\n                    id=\"inputEmail\"\n                    class=\"form-control\"\n                    ref=\"email\"\n                    :placeholder=\"$t('login.email')\"\n                    v-model=\"email\"\n                    @keyup.13=\"login\"\n                  />\n                  <label for=\"inputEmail\"></label>\n                </div>\n\n                <div class=\"form-label-group\">\n                  <input\n                    type=\"password\"\n                    id=\"inputPassword\"\n                    class=\"form-control\"\n                    :placeholder=\"$t('login.password')\"\n                    autocomplete=\"on\"\n                    v-model=\"password\"\n                    @keyup.13=\"login\"\n                  />\n                  <label for=\"inputPassword\"></label>\n                </div>\n              </form>\n              <div class=\"form-signin\">\n                <button\n                  class=\"btn btn-lg btn-dark btn-block text-uppercase sign-up\"\n                  @click=\"login\"\n                >\n                  {{ $t('login.login') }}\n                </button>\n                <div v-if=\"errors.length\">\n                  <ul class=\"list-group mt-4\">\n                    <li\n                      v-for=\"(error, i) in errors\"\n                      :key=\"i\"\n                      class=\"list-group-item list-group-item-danger\"\n                    >\n                      {{ error }}\n                    </li>\n                  </ul>\n                </div>\n                <hr class=\"my-4\" />\n                <button\n                  class=\"btn btn-lg btn-google btn-block text-uppercase\"\n                  @click='redirect(GOOGLE_AUTH_URL)'\n                >\n                  <i class=\"fab fa-google mr-2\"></i> {{$t('login.googleLogin')}}\n                </button>\n                <!-- <v-facebook-login class=\"btn btn-lg btn-facebook btn-block text-uppercase\" :app-id=\"appId\" :login-options=\"{ scope: 'email' }\" @login=\"flogin\" v-model=\"model\" @sdk-init=\"handleSdkInit\"></v-facebook-login> -->\n                <p class=\"mt-4 float-right\">\n                  {{$t('login.noAccount')}}\n                  <b-link :to=\"`/signup?state=${encodedQueryParams}`\"\n                    > {{$t('login.signupHere')}} </b-link\n                  >\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport LayoutDefault from './layouts/LayoutDefault';\n// import VFacebookLogin from 'vue-facebook-login-component'\n\naxios.defaults.withCredentials = true;\n\nexport default {\n    name: 'Login',\n    created() {\n    this.$emit('update:layout', LayoutDefault);\n    },\n    components: {\n        // VFacebookLogin\n    },\n    computed: {\n      encodedQueryParams: { // base 64\n        get() {\n          return this.$store.getters.encodedQueryParams;\n        }\n      },\n      decodedQueryParams: {\n        get() {\n          return this.$store.getters.decodedQueryParams;\n        }\n      },\n      isTeacherApp: {\n        get() {\n          return this.decodedQueryParams.isTeacherApp;\n        }\n      },\n      hostedBy: {\n        get() {\n          return this.decodedQueryParams.hostedBy;\n        }\n      },\n    },\n    data() {\n        return {\n            clientId: process.env.VUE_APP_G_CLIENTID,\n            GOOGLE_AUTH_URL: process.env.VUE_APP_GOOGLE_AUTH_URL,\n            appId: process.env.VUE_APP_FACEBOOK_APPID,\n            errors: [],\n            email: '',\n            password: '',\n            host: 'api',\n            FB: {},\n            model: {},\n            scope: {}\n        }\n    },\n    mounted() {\n      if (!this.$route.query.state) {\n        this.$store.commit('setEncodedQueryParams', {});\n      }\n      this.$refs.email.focus();\n    },\n    methods: {\n      redirect(url){\n        window.location.href = `${url}&state=${this.encodedQueryParams}`\n      },\n      checkForm() {\n          this.errors = [];\n            if (!this.email || !this.password) {\n              this.errors.push('Please fill out all required fields.');\n          }\n\n          if (this.password && !this.validEmail(this.email)) {\n              this.errors.push('Valid email required.');\n          }\n      },\n      validEmail: function (email) {\n          const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n          return re.test(email);\n      },\n      login() {\n          // check if form information is correct\n          this.checkForm()\n\n          if (!this.errors.length) { // everything is good\n              axios.post('api/login', {\n                  email: this.email,\n                  password: this.password,\n                  isTeacherApp: this.isTeacherApp,\n              }).then((res) =>{\n                  if (res.status == 200) {\n                      this.$router.push({ path: '/dashboard', query: { hostedBy: this.$route.query.hostedBy, }}).catch(err => { });\n                  }\n              }).catch((err) => { // username/password was wrong\n                  this.errors.push(err.response.data);\n              });\n          }\n      },\n    }\n}\n</script>\n\n<style lang=\"css\">\n@import \"../../src/assets/css/forms.css\";\n@import \"../../src/assets/css/styles.css\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=08f4fe03&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}